name: Code Coverage

on:
    workflow_dispatch: 

env:
    mongo_url: '${{secrets.MONGO_URI}}'
    mongo_username: '${{secrets.MONGO_USERNAME}}' 
    mongo_pwd: '${{secrets.MONGO_PASSWORD}}' 
    
jobs:
    code_coverage:
        name: running code coverage
        runs-on: ubuntu-latest
        steps:
            - name: check repo
              uses: actions/checkout@v4

            - name: setup node j
              uses: actions/setup-node@v3
              
            - name: install dependencies
              run:  npm install
              
            - name: run code coverage
              continue-on-error: true
              run: npm run coverage
              
            - name: upload artificats
              continue-on-error: true
              uses: actions/upload-artifact@v3
              with:
                path: coverage
                retention-days: 5
                  